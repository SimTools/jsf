/********************************************************/
/* Imakefile to create a Bases Library 			*/
/* 							*/
/* Created by A.Miyamoto  8-Feb-2000			*/
/********************************************************/

#include "conf/makejsf.tmpl"


OBJS   	=BasesSpring.$(ObjSuf) bs_variable.$(ObjSuf) \
	bs_hist.$(ObjSuf) bases_hist.$(ObjSuf) \
	bases_xhist.$(ObjSuf) bases_scat.$(ObjSuf) \
	bases_ran1.$(ObjSuf) uxtime.$(ObjSuf) uxdate.$(ObjSuf)

SRCS   	= $(subst .$(ObjSuf),.$(SrcSuf),$(OBJS))

HDRS	= BasesSpring.h bases_scat.h  bs_hist.h hist_bin.h \
	bases_hist.h bases_xhist.h bs_variable.h hist_buff.h \
	bases_ran1.h

LIBBASES = libBasesSpring.so

all:: $(LIBBASES) install

$(LIBBASES): $(OBJS)
	$(LD) $(SOFLAGS) $(OBJS) -o $(LIBBASES)

install:: $(LIBBASES)
	mkdir -p $(JSFROOT)/lib
	mv $(LIBBASES) $(JSFROOT)/lib
	for h in $(HDRS) ; do \
	   ln -sf $(PWD)/$$h $(JSFROOT)/include/$$h ; done

depend::
	makedepend -I/usr/include/g++-2 $(SRCS)

clean::
	\rm -f *.o

cleanall:: clean
	rm Makefile

