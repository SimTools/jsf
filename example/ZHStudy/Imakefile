#
# This is Imakefile for ZHStudy
#
#$Id$

#include    "conf/makejsf.tmpl"


#if defined(MacOSXArchitecture) || defined(DarwinArchitecture)
ROOTLIBS     += -l$(EGPYTHIA) -lEG $(CERNLIBS)
#elif defined(AIXArchitecture)
ROOTLIBS     += -l$(EGPYTHIA) -lEG -Wl,-u,pytest_ $(shell cernlib mathlib)
#else
ROOTLIBS     += -l$(EGPYTHIA) -lEG -Wl,-u,pytest_ $(CERNLIBS)
#endif

LCLIBDIR      = $(LCLIBROOT)/lib

#ifdef hitachiArchitecture
EXTRALDOPT = -Wl,-a,default 
#endif

ANALLIB = $(JSFLIBS) $(EXTRALDOPT) \
	-L$(LCLIBDIR) -lGENUTIL -lLUHADR -lTAUOLA \
        -lSIMJLC -lLTKCL -lLCFULL -lBASESV5.1 -lTBS \
        -lHELASV204 -lFORTLIB -lCOM -lCLI \
        $(EXTRALIBS)

INC           = $(JSFROOT)/include 

OBJS          = MyAnalysis.$(ObjSuf) \
		libMyAnalysis.$(ObjSuf)

SRC           = MyAnalysis.$(SrcSuf)

HDRS	      = MyAnalysis.h

all::  jsf

jsf: $(OBJS) jsfmain.o
	$(CXX) jsfmain.o $(BLOCKDATA) $(OBJS) \
	$(LDFLAGS) -o jsf 


clean:: 
	@rm -f $(OBJS) core *.so 
	@rm -f libMyAnalysis.$(SrcSuf) libMyAnalysis.h

depend:: $(SRC) $(HDRS)
	for i in $(SRC); do \
	rmkdepend -a -- $(DEPENDFILES) -- $$i; done

distclean::
	@rm -f $(OBJS) core *.so *~ *.o
	@rm -f *.bak libMyAnalysis.*
	@rm -f jsf *.root Makefile 


libMyAnalysis.$(SrcSuf): $(HDRS) LinkDef.h
		@echo "Generating dictionary ..."
		rootcint -f libMyAnalysis.$(SrcSuf) \
	 	-c -I$(JSFROOT)/include $(HDRS) \
		LinkDef.h

