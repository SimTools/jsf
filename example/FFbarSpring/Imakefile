#---------------------------------------------------

#include "conf/makejsf.tmpl"

#ifdef hitachiArchitecture

#if __ROOT_VERSION__ >= 2 && __ROOT_MINORVERSION__ >= 22 
ROOT222LIBS	= -lPhysics
#endif

CERNLIBS      = -L$(CERN_ROOT)/lib -ljetset74 -lpacklib
ROOTLIBS      = -L$(ROOTSYS)/lib -lNew -lBase -lCint -lClib -lCont -lFunc \
		-lEGPythia -lEG \
                -lGraf -lGraf3d -lHist -lHtml -lMatrix -lMeta -lMinuit -lNet \
                $(ROOT222LIBS) -lPostscript -lProof -lTree -lUnix -lZip  \
		$(CERNLIBS)

ROOTGLIBS     = -lGpad -lGui -lGX11 -lX3d

LCLIB 	  = $(LCLIBROOT)/lib

ANALLIB   = -L$(JSFROOT)/lib -lJSF -lJSFLCFULL -lJSFQuickSim \
	    -L$(LCLIBROOT)/lib -lGENUTIL -lLUHADR -lTAUOLA \
	    -lSIMJLC -lLTKCL -lLCFULL -lBASESV5.1 -lTBS \
	    -lHELASV204 -lFORTLIB -lCOM -lCLI 

#endif

#-------------------------------------------------------------

PROGRAM       = FFbarSpring

SOLIBNAME     = lib$(PROGRAM)

OBJS          = $(PROGRAM).$(ObjSuf) $(SOLIBNAME).$(ObjSuf)

SRC           = $(PROGRAM).$(SrcSuf) 

HDRS	      = $(PROGRAM).h

WEBDIR        = $(JSFROOT)/html/example/$(PROGRAM)

#############################################################

#ifdef hitachiArchitecture
all::  jsf 
jsf: $(OBJS) jsfmain.o
	$(LD) jsfmain.o $(BLOCKDATA) $(OBJS) $(LDFLAGS) -o jsf
jsfmain.cxx:
	ln -s ../../src/jsfmain.cxx jsfmain.cxx

#else
all::  lib
lib: $(OBJS)
	$(LD) $(SOFLAGS) $(OBJS) -o  $(SOLIBNAME).$(DllSuf)
#endif


clean:: 
	@rm -f $(OBJS) core *.so $(SOLIBNAME).$(SrcSuf) $(SOLIBNAME).h

depend:: 
	makedepend -I$(ROOTSYS)/include $(SRC)

distclean::
	@rm -f $(OBJS) core *.so $(SOLIBNAME).$(SrcSuf) $(SOLIBNAME).h *.~ *.o
	@rm -f PYTHIA.SEED *.bak
	@rm -f jsf *.root Makefile jsfmain.cxx

web:	jsf  $(WEBDIR)
	./jsf -q -b html.C 

$(WEBDIR):
	mkdir $(WEBDIR)

###

$(SOLIBNAME).$(SrcSuf): $(HDRS) LinkDef.h
		@echo "Generating dictionary ..."
		rootcint -f $(SOLIBNAME).$(SrcSuf) \
	 	-c -I$(JSFROOT)/include $(HDRS) LinkDef.h


