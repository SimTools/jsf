#---------------------------------------------------

#include "config/lclib.tmpl"
#include "conf/makejsf.tmpl"

ROOTLIBS      = -L$(ROOTSYS)/lib -lNew -lBase -lCint -lClib -lCont -lFunc \
		-lEG -lEGPythia \
		-L/cern/pro/lib -ljetset74 \
                -lGraf -lGraf3d -lHist -lHtml -lMatrix -lMeta -lMinuit -lNet \
                -lPostscript -lProof -lTree -lUnix -lZip
ROOTGLIBS     = -lGpad -lGui -lGX11 -lX3d

ANALLIB   = -L$(JSFROOT)/lib -lJSF -lJSFLCFULL -lJSFQuickSim \
	    -L$(LCLIBROOT)/lib -lLCFULL -lGENUTIL -lLUHADR -lTAUOLA \
	    -lLTKCL -lHELASV204 -lBASESV5.1 -lSIMJLC -lFORTLIB  \
	    -lTBS -lLCFULL -lGENUTIL -lCOM -lCLI  \
	    -lHPKTOHBK -lFORTLIB -lTBS 

INCPATH = -I$(LCLIBROOT)/simjlc/src -I$(LCLIBROOT)/util/fortlib/src 



#-------------------------------------------------------------

FOBJS         = wwdcy.o wwamp.o coupla.o wwspr.o boost0.o

OBJS          = WWSpring.$(ObjSuf) \
		libWWSpring.$(ObjSuf)

SRC           = WWSpring.$(SrcSuf) 

EVENTSO       = libWWSpring.$(DllSuf)

HDRS	      = WWSpring.h

SONAME        = libWWSpring
PROGRAM       = $(SONAME).$(DllSuf)

all::  jsf

jsf: $(OBJS) jsfmain.o $(FOBJS)
	$(LD) jsfmain.o $(FOBJS) $(BLOCKDATA) $(OBJS) $(LDFLAGS) -o jsf

clean:: 
	@rm -f $(OBJS) core *.so $(SONAME).$(SrcSuf) $(SONAME).h

depend:: 
	makedepend -I$(ROOTSYS)/include $(SRC)

distclean::
	@rm -f $(OBJS) core *.so $(SONAME).$(SrcSuf) $(SONAME).h *.~ *.o
	@rm -f PYTHIA.SEED *.bak
	@rm -f jsf *.root Makefile 

###

$(SONAME).$(SrcSuf): $(HDRS) LinkDef.h
		@echo "Generating dictionary ..."
		rootcint -f $(SONAME).$(SrcSuf) \
	 	-c -I$(JSFROOT)/include $(HDRS) LinkDef.h

#---------------------------------------------------

.SUFFIXES: .$(SrcSuf)

.$(SrcSuf).$(ObjSuf):
	$(CXX) $(CXXFLAGS) -c $<
