      program readPythia
C
C      read in events and histogram contents
C
#include "stdlun.inc"
#include "stdcm1.inc"
#include "stdhep.inc"
#include "hepev4.inc"
#include "heprup.inc"
#include "hepeup.inc"

      integer lok,ifl,istr,ntries,i
      character*20 filrd

      data filrd/'sample_input.stdhep'/

C initialize HEP logical units
      lnhwrt=0
      lnhrd=23
      lnhdcy=0
      lnhout=22
	lnhout=6
      lnhpdf=0
      lnhdmp=0
c      open(unit=lnhout,file='readPythia.lpt',status='new')
c      call pythiabkem
C...initialize MCFio once only
      call mcfio_init()
C...now open and read events
      call stdxropen(filrd,ntries,istr,lok)
	print *,' ntries=',ntries
      if( lok.ne.0 ) then
        print *,'Error to open file',filrd
        go to 200
      endif
      lok = 0
      do while( lok .eq. 0 ) 
          call stdxrd(ifl,istr,lok)
c .. lok=0 normal
c       =1 at the end of file.
          if( lok.ne.0 ) then
            print *,' iok=',iok
            go to 200
C       returns ilbl & lok
C
C               ilbl = 1   - standard HEPEVT common block
C               ilbl = 2   - standard HEPEVT common block and HEPEV2
C               ilbl = 3   - stdevent struct
C               ilbl = 4   - standard HEPEVT common block with Les Houches
C               ilbl = 5   - standard HEPEVT common block with Les Houches
C                               and multiple collisions
C               ilbl = 11  - HEPEUP common block
C               ilbl = 12  - HEPRUP common block
C               ilbl = 100 - STDHEP begin run record
C               ilbl = 200 - STDHEP end run record
C
C               lok = 0 if no problems were encountered
C

          else if( ifl.ne. 1 ) then
            print *,' read block is =',ifl
          else
	    if(nevhep/200*200.eq.nevhep) then
		print *,'nhep=',nhep,' Event number is ',nevhep
	    endif
          endif
      enddo
      call stdxend(istr)
 200  continue
C...print histograms
c      call houtpu(lnhout)
c      call histdo
1001  format(' could not open file ',a20)
1002  format(' file ',a20,' has been opened')
1003  format(/' file ',a20,' was generated by ',a20)
      end

